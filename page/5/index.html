<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
    
  <meta name="description" content="Loving code ,especially javascript, React Native" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     Bunny&#39;s  Code Burrow
  </title>
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/css/style.css">  <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">  <script src="/js/pace.min.js"></script>

  
  

</head>

</html>

<body>
  <div id="app">
    <main class="content">
      
<section class="cover">
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Bunny&#39;s  Code Burrow</a></h1>
      <h2>this is a JS world</h2>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="#main" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    <h1 class="page-type-title"></h1>

    
    
    <article id="post-nopcommerce-3-3-local-database" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/nopcommerce-3-3-local-database/"
    >nopcommerce 3.3 local database</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/nopcommerce-3-3-local-database/" class="article-date">
  <time datetime="2017-04-24T03:35:45.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="nopcommerce-3-3-local-database-connect"><a href="#nopcommerce-3-3-local-database-connect" class="headerlink" title="nopcommerce 3.3 local database connect"></a>nopcommerce 3.3 local database connect</h1><p>在local machine 安装了nopcommerce3.3的no source 环境（即将线上文件放在本地IIS 环境www下），同时将线上数据库进行backup，在本地恢复后。<br>恢复步骤</p>
<ol>
<li>点击任一数据库右键，选择还原数据库<br>新建名称，点击 源设备，添加文件，勾选文件，进行还原。</li>
<li>修改数据库连接：App_Data\setting.txt</li>
<li>在本地数据库执行：SqlServer.StoredProcedures.sql<br>执行方式，在sql serve 2008 连接本地数据库后，</li>
<li>在该数据库MicroAnalytix中新建查询</li>
<li>打开文件，打开SqlServer.StoredProcedures.sql文件，将内容复制粘贴到新建查询中，为了防止可能出现的问题，全选该sql语言，然后进行执行。<br>若不执行2，可能在localhost环境下进行global setting的测试会出现错误。</li>
</ol>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/nopcommerce-3-3-local-database/" data-id="ck40g2k9m002r2ols4imkkbzi"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nopCommerce/">nopCommerce</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-win7-IIS" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/win7-IIS/"
    >win7 IIS</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/win7-IIS/" class="article-date">
  <time datetime="2017-04-24T03:31:06.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>How to install IIS in WIN7<br>=<br>由于nopcommerce需要 IIS 下进行发布，所以在win7环境下设置IIS 环境</p>
<p>1.打开控制面板，打开Windows功能<br><img src="http://img0.ph.126.net/04WNJNLQ7cYi6hzQj7oy9w==/6631205204658426648.png" alt=""><br>2.选择打钩<br><img src="http://img0.ph.126.net/b6yTUsVxfOmguJoekstmGA==/6598220955330955320.jpg" alt=""><br>3再次进入控制面板，选择管理工具，若在控制面板没有找到管理工具，则搜索管理工具，双击如图所示<br><img src="http://img1.ph.126.net/WguRRlb-2e2AUPyMFxOqvA==/6598249542693916726.png" alt=""><br>4点击 Internet信息服务（IIS）管理工具，打开运行，如果已经有默认网站，建议删除，然后在点击xxx-PC添加网站<br><img src="http://img0.ph.126.net/4xz-lpD8u7OedHlCWmJfNg==/6598136292996259152.png" alt=""><br><img src="http://img0.ph.126.net/4xz-lpD8u7OedHlCWmJfNg==/6598136292996259152.png" alt=""><br><img src="http://img1.ph.126.net/UVLFwn_WaEs_IFSVV6E-vg==/6631215100263071047.png" alt=""><br>然后对目前的网站进行重启<br><img src="http://img2.ph.126.net/XGVNX3evbLiIPxoDdfbpvg==/3764164863652003112.png" alt=""><br>现在只是搞定了IIS环境，接下来进行ASP.NET环境搭建<br>5.控制面板–系统和安全–管理工具–Internet信息服务（IIS）管理器，打开IIS管理器。选中左侧的默认网站（也就是“Default Web Site“这个网站），单击右侧的高级设置，将应用程序池设置为Classic.NETAppPool。<br><img src="http://img0.ph.126.net/l5w3TlFt4dVeCcSPVr993g==/4913145718584899514.png" alt=""><br>单击左侧的“应用程序池”<br><img src="http://img1.ph.126.net/NwLxWIbptupISLMWuBxkfQ==/6631309658263065949.png" alt=""><br><img src="http://img1.ph.126.net/g8DH5sPrnQmj-lu4UjKn3Q==/4870924472078302648.png" alt=""></p>
<p>中间会出现如下图所示：<br><img src="http://img1.ph.126.net/J2Roe5xutFCz_6EcCOmjNQ==/6598285826577638878.png" alt=""><br><img src="http://img1.ph.126.net/J2Roe5xutFCz_6EcCOmjNQ==/6598285826577638878.png" alt=""><br><img src="http://img2.ph.126.net/QhGkKbwvI8Z7edhuklaHSA==/4899634919702789555.png" alt=""><br>将标识改为localSystem或NetworkService。<br><img src="http://img0.ph.126.net/uGk61zp4YA0uZgH-yEoXYw==/1563874970621899515.jpg" alt=""></p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/win7-IIS/" data-id="ck40g2kbs00542olsdiadhlnt"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nopCommerce/">nopCommerce</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-nopcommerce-3-3-python" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/nopcommerce-3-3-python/"
    >nopcommerce 3.3 python</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/nopcommerce-3-3-python/" class="article-date">
  <time datetime="2017-04-24T03:29:13.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="nopcommerce-3-3-use-Python-to-address-product-related"><a href="#nopcommerce-3-3-use-Python-to-address-product-related" class="headerlink" title="nopcommerce 3.3 use Python to address product related"></a>nopcommerce 3.3 use Python to address product related</h1><pre><code># ~*~ coding:utf-8 ~*~
#csv是一个读取csv文件的lib
import csv
#itertools生成组合和排列的lib
import itertools
#pyodbc是连接ms sql server的lib
import pyodbc
#cnxn是数据库连接  更改数据库连接方式，账号密码
cnxn = pyodbc.connect(DRIVER=&apos;{SQL Server Native Client 10.0}&apos;,SERVER=&apos;localhost&apos;,DATABASE=&apos;MicroAnalytix&apos;,UID=&apos;sa&apos;,PWD=&apos;密码&apos;)
#cursor是数据库浮标
cursor = cnxn.cursor()

#主方法
def process():
    #读取csv，转换成list 更改文件存储位置
    reader = list(csv.reader(open(&quot;c:/Users/Jenny/Desktop/related.csv&quot;)))
    #遍历数据，并处理， tips：跳过第一行
    for i in reader[1:]:
        #Cn2产生组合
        for j in itertools.combinations(i,2):
            #处理产生的Cn2组合
            recommend(j)
def recommend(j):
    #产生两次相互推荐
    genRec(j[0],j[1])
    genRec(j[1],j[0])
def genRec(a,b):
    #分别通过sku获得Product的Id
    aid = getIdFromSku(a)
    bid = getIdFromSku(b)
    #生成写RelatedProduct表的sql语句
    sql = &quot;insert into dbo.RelatedProduct (ProductId1,ProductId2,DisplayOrder) values(%d,%d,%d)&quot; % (aid,bid,0)
    #执行sql语句
    cursor.execute(sql)
    #提交事务
    cnxn.commit()
def getIdFromSku(a):
    sql = &quot;select Id from dbo.Product where Sku=&apos;%s&apos;&quot; % a
    print sql
    cursor.execute(sql)
    row = cursor.fetchone()
    if row:
        return row[0]


if __name__ == &quot;__main__&quot;:
    process()
</code></pre>
      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/nopcommerce-3-3-python/" data-id="ck40g2k9x002v2ols6cu2ry7p"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-nopcommerce-source-code-version-install-tips" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/nopcommerce-source-code-version-install-tips/"
    >nopcommerce source code version install tips  </a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/nopcommerce-source-code-version-install-tips/" class="article-date">
  <time datetime="2017-04-24T03:23:57.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="nopcommerce-source-code-version-install-tips"><a href="#nopcommerce-source-code-version-install-tips" class="headerlink" title="nopcommerce source code version install tips  "></a>nopcommerce source code version install tips  </h1><ol>
<li>click the file “CodeFirstInstallationService’’ and save .<br>the path is libraries\nop.services\</li>
<li>start with<br>presentation\nop.web check in the browser</li>
<li>nop.web/app-data/ to display all files，then open setting.txt，update the database </li>
</ol>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/nopcommerce-source-code-version-install-tips/" data-id="ck40g2ka0002x2ols4pyxz07j"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nopCommerce/">nopCommerce</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-contact-us-enquiry-form-validation" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/contact-us-enquiry-form-validation/"
    >contact us enquiry form validation</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/contact-us-enquiry-form-validation/" class="article-date">
  <time datetime="2017-04-24T03:19:56.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>原版本中若不填写mobile可以提交但会提交报错如下<br><img src="http://img0.ph.126.net/QdZWSJus-WHumpeG32DsGg==/6598213258810056855.png" alt=""></p>
<p>问题应该是在向数据库提交表格的过程中设定了mobile为其中必须填写的字段但是实际前端页面没有进行验证</p>
<p>此修改方法为</p>
<p>在路径Theme\customerMicro\Views\commom\contactus.cshtml<br>修改mobile model-&gt;phone</p>
<p>可能原因是在进行customerise的过程中调用了</p>
<pre><code>@model ContactUsModel

@using Nop.Web.Models.Common;
</code></pre><p>然而这个两个model中可能没有预留关于mobile的validation 判定，所以使用phone的model进行判定</p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/contact-us-enquiry-form-validation/" data-id="ck40g2k8a00192olsw4270j21"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nopCommerce/">nopCommerce</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-nopcommerce-3-3-source-code" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/nopcommerce-3-3-source-code/"
    >nopcommerce 3.3 source code</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/nopcommerce-3-3-source-code/" class="article-date">
  <time datetime="2017-04-24T03:15:54.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="nopcommerce-3-3-source-code"><a href="#nopcommerce-3-3-source-code" class="headerlink" title="nopcommerce 3.3 source code"></a>nopcommerce 3.3 source code</h1><p>目前公司使用的nopcommerce 3.3 是无source code的版本，导致很多功能无法实现。<br>恢复步骤</p>
<ol>
<li>download from nopcommerce.com 3.3 source code</li>
<li>open NopCommerce.sln</li>
<li>先按照正常步骤setup</li>
<li>在app data里更改数据库设置</li>
<li>把customerise的theme拷贝到路径<blockquote>
<p>\nopCommerce_3.30_Source\Presentation\Nop.Web\Themes<br>在vs2008中刷新，在浏览器中查看，点击更新theme，可以进行更改theme进行还原。</p>
</blockquote>
</li>
</ol>
<p>然后怎么发布呢？由于是vs2012，不是2013，如果在vs里选择发布就一直会报错。所以目前的措施是直接从nop.web中把程序copy出来放到c盘iss发布环境，也就是WWW下面，在浏览器输入localhost，就可以在本地看到网站了 </p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/nopcommerce-3-3-source-code/" data-id="ck40g2k9k002p2olscwuqkkp5"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nopCommerce/">nopCommerce</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Excel-bugs" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/Excel-bugs/"
    >Excel bugs</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/Excel-bugs/" class="article-date">
  <time datetime="2017-04-24T03:10:56.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="Excel-tips"><a href="#Excel-tips" class="headerlink" title="Excel tips"></a>Excel tips</h1><p>从系统中导出的excel cell format 的格式调整</p>
<ol>
<li><p>日期调整。有的单元格看上去是日期但其实是text，此时采用的方法使用data-数据分列</p>
<p>Excel的一些小坑 巧用数据分列 - zeng-yanzi - zeng-yanzi 的博客</p>
</li>
<li>csv文件中的分隔符可能会导致本地修改后再导入数据库出错，采取的措施就是在本地进行修改后统一添加分隔符，方法也是通过数据分列<br>选中这列数字—点击数据—-点击分列—-下一步—-下一步–</li>
</ol>
<p><img src="http://img1.ph.126.net/5eF26lO35GHBKiBSY__9yw==/6631281070960631206.png" alt=""></p>
<p>–在右上角 列数据格式下 选择“文本”—-点击完成</p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/Excel-bugs/" data-id="ck40g2k7c000i2olseai3hseo"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Excel/">Excel</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-nopcommerce-monitor-duplicated-attributes" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/nopcommerce-monitor-duplicated-attributes/"
    >nopcommerce monitor duplicated attributes</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/nopcommerce-monitor-duplicated-attributes/" class="article-date">
  <time datetime="2017-04-24T03:06:53.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="nopcommerce-monitor-duplicated-attributes"><a href="#nopcommerce-monitor-duplicated-attributes" class="headerlink" title="nopcommerce monitor duplicated attributes"></a>nopcommerce monitor duplicated attributes</h1><pre><code>import requests
import re
import csv
root = &quot;websites&quot;
a = open(&quot;./alertau.txt&quot;,&quot;wb&quot;)
columns = {&quot;SKU&quot;:0,&quot;Type&quot;:1,&quot;Colour&quot;:2,&quot;Media&quot;:3,&quot;Pore size&quot;:4,&quot;Length&quot;:5,&quot;i.d.&quot;:6,&quot;Volume&quot;:7,&quot;Diameter&quot;:8,&quot;Pack Size&quot;:9}
skus = []
skus.append([&quot;SKU&quot;,&quot;Type&quot;,&quot;Colour&quot;,&quot;Media&quot;,&quot;Pore size&quot;,&quot;Length&quot;,&quot;i.d.&quot;,&quot;Volume&quot;,&quot;Diameter&quot;,&quot;Pack Size&quot;])
def process():
    url = &quot;websites&quot;
    html = requests.get(url).content
    cs = extract(html)
    for c in cs:
        visit(c)
    write2file()
def write2file():
    csvfile = file(&apos;./au.csv&apos;, &apos;wb&apos;)
    writer = csv.writer(csvfile)
    writer.writerows(skus)
def visit(c):
    url = root + c
    print url
    html = requests.get(url).content
    maxnum = findmax(html)
    print maxnum
    for i in range(1,maxnum+1):
        visitv(c,i)
def visitv(c,i):
    url = root + c + &quot;?pagenumber=%d&quot; % i
    print url
    html = requests.get(url).content
    if iscat(html):
        links = extractlink(html)
        print links
        for link in links:
            visit(link)
    else:
        extractproduct(html)
def findmax(html):
    res = re.findall(&quot;pagenumber=(\d+)\&quot;&gt;Last&lt;/a&gt;&quot;, html, re.I|re.M|re.DOTALL)
    print res
    if res:
        return int(res[0])
    res = re.findall(&quot;pagenumber=(\d+)\&quot;&gt;\d+&quot;, html, re.I|re.M|re.DOTALL)
    if res:
        return int(res[-1])
    return 1
def iscat(html):
    if html.find(&quot;&lt;span class=\&quot;label\&quot;&gt;SKU: &lt;/span&gt;&quot;) != -1:
        return False
    return True
def extractproduct(html):
    sku = extractsku(html)
    attr = extractattr(html)
    print sku
    print attr
    ats = set([])
    r = False
    for k,v in attr:
        if k in ats:
            r = True
        else:
            ats.add(k)
    if r:
        a.write(&quot;%s\n&quot; % sku)
        a.flush()
    export(sku,attr)
def export(sku,attr):
    p = [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]
    p[0] = sku
    for k,v in attr:
        p[columns[k]] = v
    skus.append(p)
def extractsku(html):
    return re.findall(&quot;&lt;span class=\&quot;value\&quot; itemprop=\&quot;sku\&quot; id=\&quot;sku\-\d+\&quot;&gt;(.*?)&lt;/span&gt;&quot;, html, re.I|re.M|re.DOTALL)[0]
def extractattr(html):
    attr = []
    res = re.findall(&quot;&lt;td class=\&quot;a-left spec\-name\&quot;&gt;(.*?)&lt;/td&gt;\s+&lt;td class=\&quot;a-left spec-value\&quot;&gt;(.*?)&lt;/td&gt;&quot;,html,re.I|re.M|re.DOTALL)
    for a in res:
        attr.append([clean(a[0]),clean(a[1])])
    return attr
def clean(a):    
    return a.replace(&quot;\r\n&quot;,&quot;&quot;).strip()
def extractlink(html):
    res = []
    res1 = re.findall(&quot;&lt;h2 class=\&quot;title\&quot;&gt;\s+&lt;a href=\&quot;(/.*?)\&quot;&quot;, html, re.I|re.M|re.DOTALL)
    res2 = re.findall(&quot;&lt;h2 class=\&quot;product\-title\&quot;&gt;\s+&lt;a href=\&quot;(/.*?)\&quot;&quot;, html, re.I|re.M|re.DOTALL)
    for i in res1:
        res.append(i)
    for i in res2:
        res.append(i)
    return res
def extract(html):
    res = re.findall(&quot;&lt;li class=\&quot;inactive\&quot;&gt;\s+&lt;a href=\&quot;(/.*?)\&quot;&gt;.*?&lt;/a&gt;\s+&lt;/li&gt;&quot;,html,re.I|re.M|re.DOTALL)
    return [i for i in res]

if __name__ == &quot;__main__&quot;:
    process()
</code></pre>
      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/nopcommerce-monitor-duplicated-attributes/" data-id="ck40g2ka1002z2olsek8cjld0"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nopCommerce/">nopCommerce</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-sql-depulicated" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/sql-depulicated/"
    >sql depulicated</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/sql-depulicated/" class="article-date">
  <time datetime="2017-04-24T02:47:14.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="SQL-Duplicatede"><a href="#SQL-Duplicatede" class="headerlink" title="SQL Duplicatede"></a>SQL Duplicatede</h1><p>situation :<br>数据库里有很多sku是重复的，在进行处理的时候需要注意，所以特意写了一个查重sql语句来显示哪些是已经deleted<br>下面的语句中， group by 是以sku进行分组的意思，having可以理解成where，但是区别在于，在group by后面的就要使用having</p>
<pre><code>SELECT  Sku,Deleted
  FROM [MicroAnalytix].[dbo].[Product] where 
      (Sku in (select Sku from [MicroAnalytix].[dbo].[Product] group by  Sku having count(*)&gt;=2)) ;
</code></pre><p>GROUP BY 语句<br>GROUP BY 语句用于结合合计函数，根据一个或多个列对结果集进行分组。<br>在 SQL 中增加 HAVING 子句原因是，WHERE 关键字无法与合计函数一起使用</p>

      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/sql-depulicated/" data-id="ck40g2kbx005e2ols8go4wd5d"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-sql-not-in" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/04/24/sql-not-in/"
    >sql not in</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2017/04/24/sql-not-in/" class="article-date">
  <time datetime="2017-04-24T02:40:14.000Z" itemprop="datePublished">2017-04-24</time>
</a>
      
    </div>
    

    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="SQL-not-in"><a href="#SQL-not-in" class="headerlink" title="SQL not in"></a>SQL not in</h1><pre><code>select Id from [MicroAnalytix].[dbo].[Product] where Deleted=0 and Id NOT IN ( SELECT ProductId FROM [MicroAnalytix].[dbo].[TierPrice] ); 
</code></pre>
      
      <!-- 打赏 -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/04/24/sql-not-in/" data-id="ck40g2kb300462ols3lpf7exs"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li></ul>

    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/4/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/6/">下一页</a>
  </nav>
  
</section>
</div>

      
    <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
    
      <aside class="sidebar">
        
        <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Bunny&#39;s  Code Burrow"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">目录</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/旅行/">旅行</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="http://shenyu-vip.lofter.com">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2019/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Suche">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
      </aside>
      <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>

  <script src="/fancybox/jquery.fancybox.min.js"></script>




<script>
  var ayerConfig = {
    mathjax: true
  }
</script>

<script src="/js/ayer.js"></script>


  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  </div>
</body>

</html>